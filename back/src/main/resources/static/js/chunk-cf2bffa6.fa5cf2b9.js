(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf2bffa6"],{"0899":function(t,i,h){"use strict";h.r(i);var e=h("7a23");const s={key:0,class:"all"},c=Object(e["g"])("div",{class:"container"},[Object(e["g"])("div",{class:"alert alert-info admin",role:"alert",style:{"text-align":"center"}}," User panel ")],-1),l={class:"list row"},n={class:"col-md-6"},r={for:"xSlider"},o=Object(e["g"])("br",null,null,-1),a=Object(e["g"])("br",null,null,-1),d=Object(e["g"])("br",null,null,-1),x={for:"ySlider"},g=Object(e["g"])("br",null,null,-1),b=Object(e["g"])("br",null,null,-1),u={for:"rSlider"},p=Object(e["g"])("br",null,null,-1),w={class:"col-md-6"},O={style:{"text-align":"center",width:"40%",display:"flex"}},j={class:"table-responsive"},T={class:"table-hover table-bordered"},m=Object(e["g"])("thead",null,[Object(e["g"])("tr",{style:{"text-align":"center"}},[Object(e["g"])("th",null,"X"),Object(e["g"])("th",null,"Y"),Object(e["g"])("th",null,"R"),Object(e["g"])("th",null,"Hit")])],-1),v={key:1};function y(t,i,h,y,k,f){return Object(e["x"])(),Object(e["f"])(e["a"],null,[f.isUser?(Object(e["x"])(),Object(e["f"])("div",s,[c,Object(e["g"])("div",l,[Object(e["g"])("div",n,[Object(e["g"])("div",null,[Object(e["g"])("label",r,"X = "+Object(e["H"])(k.point.x),1),o,Object(e["Q"])(Object(e["g"])("input",{type:"range",id:"xSlider",required:"",min:"-3",max:"3",step:"0.5","onUpdate:modelValue":i[0]||(i[0]=t=>k.point.x=t),name:"x"},null,512),[[e["K"],k.point.x]])]),a,d,Object(e["g"])("div",null,[Object(e["g"])("label",x,"Y = "+Object(e["H"])(k.point.y),1),g,Object(e["Q"])(Object(e["g"])("input",{type:"range",id:"ySlider",required:"",min:"-3",max:"3",step:"0.5","onUpdate:modelValue":i[1]||(i[1]=t=>k.point.y=t),name:"y"},null,512),[[e["K"],k.point.y]])]),b,Object(e["g"])("div",null,[Object(e["g"])("label",u,"R = "+Object(e["H"])(k.point.r),1),p,Object(e["Q"])(Object(e["g"])("input",{type:"range",id:"rSlider",required:"",min:"0.5",max:"3",step:"0.5","onUpdate:modelValue":i[2]||(i[2]=t=>k.point.r=t),name:"r",onInput:i[3]||(i[3]=t=>this.loadGraph(k.point.r))},null,544),[[e["K"],k.point.r]])]),Object(e["g"])("button",{onClick:i[4]||(i[4]=(...t)=>f.save&&f.save(...t)),class:"btn btn-primary",style:{"margin-top":"10px"}},"Submit")]),Object(e["g"])("div",w,[Object(e["g"])("div",O,[Object(e["g"])("canvas",{id:"graph",height:"400px",width:"400px",style:{background:"transparent"},ref:"graphic",onMousedown:i[5]||(i[5]=(...t)=>this.clickOnGraph&&this.clickOnGraph(...t))},null,544)])])]),Object(e["g"])("div",null,[Object(e["g"])("div",j,[Object(e["g"])("table",T,[m,Object(e["g"])("tbody",null,[(Object(e["x"])(!0),Object(e["f"])(e["a"],null,Object(e["D"])(k.points.slice().reverse(),t=>(Object(e["x"])(),Object(e["f"])("tr",{key:t,class:"res-table-column"},[Object(e["g"])("td",null,Object(e["H"])(t.x),1),Object(e["g"])("td",null,Object(e["H"])(t.y),1),Object(e["g"])("td",null,Object(e["H"])(t.r),1),Object(e["g"])("td",null,Object(e["H"])(t.hit),1)]))),128))])])])])])):Object(e["e"])("",!0),f.isUser?Object(e["e"])("",!0):(Object(e["x"])(),Object(e["f"])("div",v,"No bro you need to log in"))],64)}h("14d9");var k=h("b697"),f={name:"User",data(){return{points:[],point:{x:1,y:1,r:1,hit:!1},c:null,ctx:null,radiusOnGraph:null}},computed:{currentUser(){return this.$store.state.auth.user},isUser(){return!(!this.currentUser||!this.currentUser["roles"])}},methods:{getPoints(){k["a"].getAll().then(t=>{this.points=t.data}).catch(t=>console.error(t))},save(){var t={x:this.point.x,y:this.point.y,r:this.point.r};k["a"].savePoint(t).then(t=>{this.point.hit=t.data.hit,this.getPoints()})},startGraph(){this.draw()},draw(){this.loadGraph(this.point.r)},drawArea(){let t=15,i=this.c.width/2-t,h=this.c.width/2;this.ctx.lineWidth=0,this.ctx.beginPath(),this.ctx.fillStyle="#3399FF",this.ctx.strokeStyle="#3399FF",this.ctx.moveTo(h,h),this.ctx.fillRect(h,h,-i,i),this.ctx.moveTo(h,h),this.ctx.lineTo(h-i/2,h),this.ctx.lineTo(h,h-i),this.ctx.fill(),this.ctx.moveTo(h,h),this.ctx.arc(h,h,i/2,3*Math.PI/2,0),this.ctx.fill(),this.ctx.closePath(),this.ctx.stroke()},drawCoordinatePlane(t){this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(0,this.c.height/2),this.ctx.lineTo(this.c.width,this.c.height/2),this.ctx.moveTo(this.c.width-1,this.c.height/2),this.ctx.lineTo(this.c.width-4,this.c.height/2+1.5),this.ctx.lineTo(this.c.width-4,this.c.height/2-1.5),this.ctx.strokeStyle="black",this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.c.width/2,0),this.ctx.lineTo(this.c.width/2,this.c.height),this.ctx.moveTo(this.c.width/2,1),this.ctx.lineTo(this.c.width/2+1.5,4),this.ctx.lineTo(this.c.width/2-1.5,4),this.ctx.strokeStyle="black",this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(15,this.c.height/2),this.ctx.lineTo(15,this.c.height/2+2),this.ctx.lineTo(15,this.c.height/2-2),this.ctx.moveTo(this.c.width/4+7.5,this.c.height/2),this.ctx.lineTo(this.c.width/4+7.5,this.c.height/2+2),this.ctx.lineTo(this.c.width/4+7.5,this.c.height/2-2),this.ctx.moveTo(this.c.width/4+this.c.width/2-7.5,this.c.height/2),this.ctx.lineTo(this.c.width/4+this.c.width/2-7.5,this.c.height/2+2),this.ctx.lineTo(this.c.width/4+this.c.width/2-7.5,this.c.height/2-2),this.ctx.moveTo(this.c.width-15,this.c.height/2),this.ctx.lineTo(this.c.width-15,this.c.height/2+2),this.ctx.lineTo(this.c.width-15,this.c.height/2-2),this.ctx.strokeStyle="black",this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.c.width/2,this.c.height-15),this.ctx.lineTo(this.c.width/2+2,this.c.height-15),this.ctx.lineTo(this.c.width/2-2,this.c.height-15),this.ctx.moveTo(this.c.width/2,3*this.c.height/4-7.5),this.ctx.lineTo(this.c.width/2+2,3*this.c.height/4-7.5),this.ctx.lineTo(this.c.width/2-2,3*this.c.height/4-7.5),this.ctx.moveTo(this.c.width/2,1*this.c.height/4+7.5),this.ctx.lineTo(this.c.width/2+2,1*this.c.height/4+7.5),this.ctx.lineTo(this.c.width/2-2,1*this.c.height/4+7.5),this.ctx.moveTo(this.c.width/2,15),this.ctx.lineTo(this.c.width/2+2,15),this.ctx.lineTo(this.c.width/2-2,15),this.ctx.strokeStyle="black",this.ctx.closePath(),this.ctx.stroke(),this.ctx.strokeStyle="black",this.ctx.fillStyle="black",this.ctx.font="12pt monospace",this.ctx.lineWidth=1,this.ctx.strokeText(t,this.c.width-25,this.c.height/2+17),this.ctx.strokeText(t,this.c.width/2+7,22),this.ctx.strokeText(-1*t,2,this.c.height/2+17),this.ctx.strokeText(-1*t,this.c.width/2+4,this.c.height-10),this.ctx.strokeText(t/2*-1,this.c.width/2+2,3*this.c.height/4-4),this.ctx.strokeText(t/2,this.c.width/2+6,1*this.c.height/4+12.5),this.ctx.strokeText(t/2*-1,this.c.width/4-13,this.c.height/2+17),this.ctx.strokeText(t/2,this.c.width/4+this.c.width/2-21,this.c.height/2+17),this.ctx.fill(),this.ctx.stroke()},clickOnGraph(t){let i=this.c.getBoundingClientRect(),h=t.clientX-i.x,e=t.clientY-i.y;var s=this.point.r;this.loadGraph(this.point.r);let c={x:Math.round((h-this.c.width/2)*s/this.radiusOnGraph*1e5)/1e5,y:Math.round(-1*(e-this.c.height/2)*s/this.radiusOnGraph*1e5)/1e5,r:s};this.point.x=c.x,this.point.y=c.y,k["a"].savePoint(c).then(t=>{this.point.hit=t.data.hit;let i={x:this.point.x,y:this.point.y,r:this.point.r,hit:this.point.hit};this.drawItemFromTable(i),this.getPoints()})},loadGraph(t){for(var i in this.clearCanvas(),this.drawArea(),this.drawCoordinatePlane(t),this.points)this.points[i].r==t&&this.drawItemFromTable(this.points[i])},drawItemFromTable(t){let i=parseFloat(t.x),h=parseFloat(t.y),e=parseFloat(t.r),s=t.hit,c="black";s&&(c="red");let l=i*this.radiusOnGraph/e+this.c.width/2,n=this.c.height/2-h*this.radiusOnGraph/e;l<2&&(l=2,c="white"),l>this.c.width-2&&(l=this.c.width-2,c="white"),n<2&&(n=2,c="white"),n>this.c.height-2&&(n=this.c.height-2,c="white"),this.drawItem(l,n,c)},drawItem(t,i,h){this.ctx.beginPath(),this.ctx.arc(t,i,3,0,2*Math.PI),this.ctx.fillStyle=h,this.ctx.fill(),this.ctx.closePath(),this.ctx.stroke()},clearCanvas(){this.ctx.clearRect(0,0,this.c.width,this.c.height)}},mounted(){this.currentUser||this.$router.push("/login"),this.getPoints(),this.c=document.getElementById("graph"),this.c&&(this.c.width=400,this.c.height=400,this.radiusOnGraph=(this.c.width-30)/2,this.ctx=this.c.getContext("2d"),this.startGraph(),this.loadGraph(1))}},P=(h("ced8"),h("6b0d")),S=h.n(P);const G=S()(f,[["render",y]]);i["default"]=G},a045:function(t,i,h){},b697:function(t,i,h){"use strict";var e=h("bc3a"),s=h.n(e),c=h("c4c6");const l="http://localhost:8080/api/points/";class n{getAll(){return s.a.get(l+"",{headers:Object(c["a"])()})}savePoint(t){return s.a.post(l,t,{headers:Object(c["a"])()})}deleteAll(){return s.a.delete(l,{headers:Object(c["a"])()})}}i["a"]=new n},c4c6:function(t,i,h){"use strict";function e(){let t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{Authorization:"Bearer "+t.accessToken}:{}}h.d(i,"a",(function(){return e}))},ced8:function(t,i,h){"use strict";h("a045")}}]);
//# sourceMappingURL=chunk-cf2bffa6.fa5cf2b9.js.map